<!-- pages/templates/pages/base.html -->
{% load static tailwind_tags %}

<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}My Django Site{% endblock %}</title>

    <!-- Load Tailwind CSS -->
    {% tailwind_css %}
</head>
<body class="font-sans bg-base-200 text-base-content">

    <!-- Header -->
    <header class="navbar bg-base-100 shadow-lg">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <!-- Logo -->
            <a href="{% url 'home' %}" class="btn btn-ghost normal-case text-xl">My Django Site</a>

            <!-- Navigation -->
            <nav class="flex items-center space-x-4">
                <ul class="menu menu-horizontal p-0">
                    <li><a href="{% url 'home' %}" class="text-base-content hover:text-primary">Home</a></li>
                    <li><a href="#" class="text-base-content hover:text-primary">About</a></li>
                    <li><a href="#" class="text-base-content hover:text-primary">Contact</a></li>
                </ul>

                <!-- Theme Switcher -->
                <label class="swap swap-rotate">
                    <!-- Light Mode -->
                    <input type="checkbox" id="theme-switcher" />
                    <svg class="swap-on fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M5.64 17l-.71.71a1 1 0 01-1.41 0l-.71-.71a1 1 0 011.41-1.41L5.64 16zM12 16a4 4 0 110-8 4 4 0 010 8zm0-6a2 2 0 100 4 2 2 0 000-4z"></path>
                    </svg>
                    <!-- Dark Mode -->
                    <svg class="swap-off fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M21.71 13.29l-9 9a1 1 0 01-1.41 0l-9-9A1 1 0 012 12v-2a1 1 0 01.29-.71l9-9a1 1 0 011.41 0l9 9A1 1 0 0122 12v2a1 1 0 01-.29.71zM12 5a1 1 0 011 1v4a1 1 0 01-2 0V6a1 1 0 011-1z"></path>
                    </svg>
                </label>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        {% block content %}
        <!-- Default content goes here -->
        {% endblock %}
    </main>

    <!-- Footer -->
    <footer class="footer footer-center p-4 bg-base-300 text-base-content">
        <div>
            <p>&copy; 2023 My Django Site. All rights reserved.</p>
        </div>
    </footer>

    <!-- JavaScript for Theme Switching -->
    <script>
        // Get the theme switcher checkbox
        const themeSwitcher = document.getElementById('theme-switcher');

        // Check local storage for saved theme preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            document.documentElement.setAttribute('data-theme', savedTheme);
            themeSwitcher.checked = savedTheme === 'dark';
        }

        // Listen for changes to the theme switcher
        themeSwitcher.addEventListener('change', () => {
            const newTheme = themeSwitcher.checked ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme); // Save theme preference
        });
    </script>
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.5"></script>

</body>
</html>